<div class="row">
    <div class="col s12 offset-s1">
        <div class="card material-table" id="card-div">
            <div class="card-content row">
                <div id="table-header" class="col s10"><p>All tickets</p></div>
                <div class="col s1"><i class="tiny material-icons">sort</i><span id="sort-txt">Sort</span></div>
                <div class="col s1"><i class="tiny material-icons">filter_list</i><span id="sort-txt">Filter</span></div>
                <table class="highlight" id="datatable">
                    <thead>
                        <th>Parking Lot</th>
                        <th>Spot</th>
                        <th>Customer name</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th style="width: 0%;"></th>
                    </thead>
                    <tbody id="ticket-table">
                        <form method="POST">
                            <% ticket.map(function(tickets){ %>
                                <tr>
                                    <td>
                                        <div><%- tickets.name %></div>
                                        <div class="lower-txt">Updated <%- tickets.updated_at[1]%> ago</div>
                                    </td>
                                    <td><%- tickets.spot_name %></td>
                                    <td>
                                        <div><%- tickets.first_name %> <%= tickets.last_name %></div>
                                        <div class="lower-txt">on <%- tickets.updated_at[0] %></div>
                                    </td>
                                    <td>
                                        <div><%- tickets.created_at[0] %></div>
                                        <div class="lower-txt"><%- tickets.created_at[1] %></div>
                                    </td>
                                    <td>
                                        <%- include("../../component/ticketStatus/red.ejs") %>
                                    </td>
                                    <td>
                                        <div class="col s1 push-s1"><i class="tiny material-icons grey-text">more_vert</i></div>
                                    </td>
                                </tr>
                            <%});%>
                        </form>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- External style sheet -->
<link rel="stylesheet" href="/stylesheets/tickets_info_card_style.css" type="text/css">
<script>
    $(document).ready(function () {
        $("#datatable").DataTable({
            "dom": '<"top">rt<"bottom"lip><"clear">',
            "searching": false,
            "pagingType": "simple",
            "bLengthChange": true,
            "pageLength": 50,
            "oLanguage": {
                    "sStripClasses": "",
                    "sSearch": "",
                    "sSearchPlaceholder": "Enter Keywords Here",
                    "sInfo": "_START_ -_END_ of _TOTAL_",
                    "sLengthMenu": '<span>Rows per page:</span><select class="browser-default">' +
                        '<option value="5">5</option>' +
                        '<option value="8">8</option>' +
                        '<option value="10">10</option>' +
                        '<option value="15">15</option>' +
                        '<option value="20">20</option>' +
                        '<option value="50">50</option>' +
                        '<option value="-1">All</option>' +
                        '</select></div>'
            },
            "language": {
                "paginate": {
                    "next": "<i id=\"next-btn\" class=\"material-icons grey-text\">keyboard_arrow_right</i>",
                    "previous": "<i id=\"prev-btn\" class=\"material-icons grey-text\">keyboard_arrow_left</i>"
                }
            }
        });
    });
</script>
